!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/chip-player-js/",e(e.s=0)}([function(t,e,i){"use strict";function n(t,e){Array.isArray(t)||(t=t.trim().split(" ").filter(function(t){return""!==t}));var i=r.get(t,o.a.UNION_REDUCER)||[],n=i.length;e&&(i=i.slice(0,e)),postMessage({type:"results",payload:{results:i,count:n}})}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),o=i.n(s),r=new o.a("file",{indexField:"id",idFieldOrFunction:"id",splitOnRegEx:/[^A-Za-z0-9]/g});onmessage=function(t){var e=t.data;switch(e.type){case"load":var i=performance.now(),s=JSON.parse(e.payload).map(function(t,e){return{id:e,file:t}});r.addAll(s);var o=(performance.now()-i).toFixed(1);console.log("Added %s items (%s tokens) to search trie in %s ms.",s.length,r.size,o),postMessage({type:"status",payload:{numRecords:s.length}});break;case"search":n(e.payload.query,e.payload.maxResults)}}},function(t,e,i){t.exports=i(2)},function(t,e,i){function n(t,e){return 1===e.length?t[e[0]]:n(t[e[0]],e.slice(1,e.length))}var s=i(3),o=/^[\s]*$/,r=[{regex:/[\xe5\xe4\xe0\xe1\xe2\xe3\xe6]/gi,alternate:"a"},{regex:/[\xe8\xe9\xea\xeb]/gi,alternate:"e"},{regex:/[\xec\xed\xee\xef]/gi,alternate:"i"},{regex:/[\xf2\xf3\xf4\xf5\xf6]/gi,alternate:"o"},{regex:/[\xf9\xfa\xfb\xfc]/gi,alternate:"u"},{regex:/[\xe6]/gi,alternate:"ae"}];String.prototype.replaceCharAt=function(t,e){return this.substr(0,t)+e+this.substr(t+e.length)};var a=function(t,e){this.options=e||{},this.options.ignoreCase=void 0===this.options.ignoreCase||this.options.ignoreCase,this.options.maxCacheSize=this.options.maxCacheSize||64,this.options.cache=!this.options.hasOwnProperty("cache")||this.options.cache,this.options.splitOnRegEx=this.options.hasOwnProperty("splitOnRegEx")?this.options.splitOnRegEx:/\s/g,this.options.splitOnGetRegEx=this.options.hasOwnProperty("splitOnGetRegEx")?this.options.splitOnGetRegEx:this.options.splitOnRegEx,this.options.min=this.options.min||1,this.options.keepAll=!!this.options.hasOwnProperty("keepAll")&&this.options.keepAll,this.options.keepAllKey=this.options.hasOwnProperty("keepAllKey")?this.options.keepAllKey:"id",this.options.idFieldOrFunction=this.options.hasOwnProperty("idFieldOrFunction")?this.options.idFieldOrFunction:void 0,this.options.expandRegexes=this.options.expandRegexes||r,this.options.insertFullUnsplitKey=!!this.options.hasOwnProperty("insertFullUnsplitKey")&&this.options.insertFullUnsplitKey,this.keyFields=t?t instanceof Array?t:[t]:[],this.root={},this.size=0,this.options.cache&&(this.getCache=new s("key",null,{ignoreDuplicates:!0}))};a.prototype={add:function(t,e){this.options.cache&&this.clearCache(),"number"===typeof e&&(e=void 0);var i=e||this.keyFields;for(var s in i){var o=i[s],r=o instanceof Array,a=r?n(t,o):t[o];if(a){a=a.toString(),a=this.options.ignoreCase?a.toLowerCase():a;for(var h=this.expandString(a),l=0;l<h.length;l++){var c=h[l];this.map(c,t)}}}},expandString:function(t){var e=[t];if(this.options.expandRegexes&&this.options.expandRegexes.length)for(var i=0;i<this.options.expandRegexes.length;i++)for(var n,s=this.options.expandRegexes[i];null!==(n=s.regex.exec(t));){var o=t.replaceCharAt(n.index,s.alternate);e.push(o)}return e},addAll:function(t,e){for(var i=0;i<t.length;i++)this.add(t[i],e)},reset:function(){this.root={},this.size=0},clearCache:function(){this.getCache=new s("key",null,{ignoreDuplicates:!0})},cleanCache:function(){for(;this.getCache.all.length>this.options.maxCacheSize;)this.getCache.remove(this.getCache.all[0])},addFromObject:function(t,e){this.options.cache&&this.clearCache(),e=e||"value",-1==this.keyFields.indexOf("_key_")&&this.keyFields.push("_key_");for(var i in t){var n={_key_:i};n[e]=t[i],this.add(n)}},map:function(t,e){function i(t,e,n){if(0==t.length)return n.value=n.value||[],void n.value.push(e);var s=t.shift();n[s]||l.size++,n[s]=n[s]||{},i(t,e,n[s])}if(this.options.splitOnRegEx&&this.options.splitOnRegEx.test(t)){var n=t.split(this.options.splitOnRegEx),r=n.filter(function(t){return o.test(t)});if(!(n.filter(function(e){return e===t}).length+r.length===n.length)){for(var a=0,h=n.length;a<h;a++)o.test(n[a])||this.map(n[a],e);if(!this.options.insertFullUnsplitKey)return}}this.options.cache&&this.clearCache(),this.options.keepAll&&(this.indexed=this.indexed||new s([this.options.keepAllKey],null,{ignoreDuplicates:!0}),this.indexed.add(e)),this.options.ignoreCase&&(t=t.toLowerCase());var l=this;i(this.keyToArr(t),e,this.root)},keyToArr:function(t){var e;if(this.options.min&&this.options.min>1){if(t.length<this.options.min)return[];e=[t.substr(0,this.options.min)],e=e.concat(t.substr(this.options.min).split(""))}else e=t.split("");return e},findNode:function(t){function e(t,i){if(i){if(0==t.length)return i;return e(t,i[t.shift()])}}return this.options.min>0&&t.length<this.options.min?[]:e(this.keyToArr(t),this.root)},_get:function(t){function e(t,i){t.value&&t.value.length&&i.addAll(t.value);for(var n in t)"value"!=n&&e(t[n],i)}t=this.options.ignoreCase?t.toLowerCase():t;var i,n;if(this.options.cache&&(i=this.getCache.get(t)))return i.value;for(var o=void 0,r=this.options.indexField?[this.options.indexField]:this.keyFields,a=this.options.splitOnGetRegEx?t.split(this.options.splitOnGetRegEx):[t],h=0,l=a.length;h<l;h++)if(!(this.options.min&&a[h].length<this.options.min)){var c=new s(r,null,{ignoreDuplicates:!0});(n=this.findNode(a[h]))&&e(n,c),o=o?o.intersection(c):c}var p=o?o.all:[];return this.options.cache&&(this.getCache.add({key:t,value:p}),this.cleanCache()),p},get:function(t,e){var i=this.options.indexField?[this.options.indexField]:this.keyFields,n=void 0,o=void 0;if(e&&!this.options.idFieldOrFunction)throw new Error("To use the accumulator, you must specify and idFieldOrFunction");t=t instanceof Array?t:[t];for(var r=0,a=t.length;r<a;r++){var h=this._get(t[r]);e?o=e(o,t[r],h,this):n=n?n.addAll(h):new s(i,null,{ignoreDuplicates:!0}).addAll(h)}return e?o:n.all},getId:function(t){return"function"===typeof this.options.idFieldOrFunction?this.options.idFieldOrFunction(t):t[this.options.idFieldOrFunction]}},a.UNION_REDUCER=function(t,e,i,n){if(void 0===t)return i;var s,o,r={},a=Math.max(t.length,i.length),h=[],l=0;for(s=0;s<a;s++)s<t.length&&(o=n.getId(t[s]),r[o]=r[o]?r[o]:0,2===++r[o]&&(h[l++]=t[s])),s<i.length&&(o=n.getId(i[s]),r[o]=r[o]?r[o]:0,2===++r[o]&&(h[l++]=i[s]));return h},t.exports=a},function(t,e,i){t.exports=i(4)},function(t,e,i){var n=i(5),s=n._extend({init:function(t,e,i){t=t instanceof Array?t:[t],this._map={},this._list=[],this.callback=e,this.keyFields=t,this.isHashArray=!0,this.options=i||{ignoreDuplicates:!1},e&&e("construct")},addOne:function(t){var e=!1;for(var i in this.keyFields){i=this.keyFields[i];var n=this.objectAt(t,i);if(n)if(this.has(n)){if(this.options.ignoreDuplicates)return;if(-1!=this._map[n].indexOf(t)){e=!0;continue}this._map[n].push(t)}else this._map[n]=[t]}e&&-1!=this._list.indexOf(t)||this._list.push(t)},add:function(){for(var t=0;t<arguments.length;t++)this.addOne(arguments[t]);return this.callback&&this.callback("add",Array.prototype.slice.call(arguments,0)),this},addAll:function(t){if(t.length<100)this.add.apply(this,t);else for(var e=0;e<t.length;e++)this.add(t[e]);return this},addMap:function(t,e){return this._map[t]=e,this.callback&&this.callback("addMap",{key:t,obj:e}),this},intersection:function(t){var e=this;if(!t||!t.isHashArray)throw Error("Cannot HashArray.intersection() on a non-hasharray object. You passed in: ",t);var i=this.clone(null,!0);return this.clone(null,!0).addAll(this.all.concat(t.all)).all.forEach(function(n){e.collides(n)&&t.collides(n)&&i.add(n)}),i},complement:function(t){if(!t||!t.isHashArray)throw Error("Cannot HashArray.complement() on a non-hasharray object. You passed in: ",t);var e=this.clone(null,!0);return this.all.forEach(function(i){t.collides(i)||e.add(i)}),e},get:function(t){return this._map[t]instanceof Array&&1==this._map[t].length?this._map[t][0]:this._map[t]},getAll:function(t){if(t=t instanceof Array?t:[t],"*"==t[0])return this.all;var e=new s(this.keyFields);for(var i in t)e.add.apply(e,this.getAsArray(t[i]));return e.all},getAsArray:function(t){return this._map[t]||[]},getUniqueRandomIntegers:function(t,e,i){var n=[],s={};for(t=Math.min(Math.max(i-e,1),t);n.length<t;){var o=Math.floor(e+Math.random()*(i+1));s[o]||(s[o]=!0,n.push(o))}return n},sample:function(t,e){var i=this.all,n=[];e&&(i=this.getAll(e));for(var s=this.getUniqueRandomIntegers(t,0,i.length-1),o=0;o<s.length;o++)n.push(i[s[o]]);return n},has:function(t){return this._map.hasOwnProperty(t)},collides:function(t){for(var e in this.keyFields)if(this.has(this.objectAt(t,this.keyFields[e])))return!0;return!1},hasMultiple:function(t){return this._map[t]instanceof Array},removeByKey:function(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e],n=this._map[i].concat();if(n){t=t.concat(n);for(var s in n){var o=n[s];for(var r in this.keyFields){var a=this.objectAt(o,this.keyFields[r]);if(a&&this.has(a)){var r=this._map[a].indexOf(o);-1!=r&&this._map[a].splice(r,1),0==this._map[a].length&&delete this._map[a]}}this._list.splice(this._list.indexOf(o),1)}}delete this._map[i]}return this.callback&&this.callback("removeByKey",t),this},remove:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];for(var i in this.keyFields){var n=this.objectAt(e,this.keyFields[i]);if(n){var i=this._map[n].indexOf(e);if(-1==i)throw new Error("HashArray: attempting to remove an object that was never added!"+n);this._map[n].splice(i,1),0==this._map[n].length&&delete this._map[n]}}var i=this._list.indexOf(e);if(-1==i)throw new Error("HashArray: attempting to remove an object that was never added!"+n);this._list.splice(i,1)}return this.callback&&this.callback("remove",arguments),this},removeAll:function(){var t=this._list.concat();return this._map={},this._list=[],this.callback&&this.callback("remove",t),this},objectAt:function(t,e){if("string"===typeof e)return t[e];for(var i=e.concat();i.length&&t;)t=t[i.shift()];return t},forEach:function(t,e){return t=t instanceof Array?t:[t],this.getAll(t).forEach(e),this},forEachDeep:function(t,e,i){t=t instanceof Array?t:[t];var n=this;return this.getAll(t).forEach(function(t){i(n.objectAt(t,e),t)}),this},clone:function(t,e){var i=new s(this.keyFields.concat(),t||this.callback);return e||i.add.apply(i,this.all.concat()),i},sum:function(t,e,i){var n=this,s=0;return this.forEachDeep(t,e,function(t,e){void 0!==i&&(t*=n.objectAt(e,i)),s+=t}),s},average:function(t,e,i){var n=0,s=0,o=0,r=this;return void 0!==i&&this.forEachDeep(t,i,function(t){o+=t}),this.forEachDeep(t,e,function(t,e){void 0!==i&&(t*=r.objectAt(e,i)/o),n+=t,s++}),void 0!==i?n:n/s},filter:function(t,e){function i(t){var i=n.objectAt(t,e);return void 0!==i&&!1!==i}var n=this,o="function"==typeof e?e:i,r=new s(this.keyFields);return r.addAll(this.getAll(t).filter(o)),r}});Object.defineProperty(s.prototype,"all",{get:function(){return this._list}}),Object.defineProperty(s.prototype,"map",{get:function(){return this._map}}),t.exports=s,"undefined"!==typeof window&&(window.HashArray=s)},function(t,e,i){var n,s,o;!function(i){s=[],n=i,void 0!==(o="function"===typeof n?n.apply(e,s):n)&&(t.exports=o)}(function(){var t=function(t){return t instanceof Function},e=function(t){var e=Array.prototype.slice.call(arguments,1);for(var i in e){var n=e[i];if("object"==typeof n)for(var s in n)t[s]=n[s]}return t},i={_isClassObject:!1},n=!1,s=function(){};return s._subClasses=[],s.prototype.init=function(){},s._extend=function(o,r,a){void 0===o&&(o={}),void 0===r&&(r={}),void 0===a&&(a={}),a=e({},i,a);var h=function(){n||(this._class=h,this.init instanceof Function&&this.init.apply(this,arguments))},l=this;n=!0;var c=new l;n=!1;var p=l.prototype;h.prototype=c,h.prototype.constructor=h,h._superClass=l,h._subClasses=[],l._subClasses.push(h),h._extend=l._extend,h._extends=function(t){return this._superClass!=s&&(t==this._superClass||t==s||this._superClass._extends(t))};for(var u in o){var f=Object.getOwnPropertyDescriptor(o,u),d=f.value;if(null!==d&&"object"==typeof d&&d.descriptor)Object.defineProperty(c,u,d);else if("value"in f||!("set"in f||"get"in f)){c[u]=d;var v=p[u];t(d)&&t(v)&&d!==v&&(d._super=v)}else Object.defineProperty(c,u,f)}if(!a._isClassObject){var g=void 0===l._members?s:l._members._class,y=e({},a,{_isClassObject:!0}),m=g._extend(r,{},y);m._instanceClass=h,h._members=new m}return h},s._convert=function(t,e){var i=t.prototype;return i.init=function(){var e=this._origin=s._construct(t,arguments);Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&Object.defineProperty(this,t,{get:function(){return e[t]}})},this)},s._extend(i,{},e)},s._construct=function(t,e){void 0===e&&(e=[]);var i=function(){return t.apply(this,e)};return i.prototype=t.prototype,new i},s._superDescriptor=function(t,e){return"_class"in t&&t instanceof t._class&&(t=t._class),"_extends"in t&&t._extends instanceof Function&&t._extends(this)?Object.getOwnPropertyDescriptor(t._superClass.prototype,e):void 0},s})}]);
//# sourceMappingURL=c353629349a6127f7b6b.worker.js.map